version: "1.0"
schema_version: "1.0"
project: "advl-app"
description: "ADVL application — visual software engineering tool"
author: "Amadeus Lederle / IEX Labs UG (haftungsbeschränkt)"
created: "2026-02-27"
last_updated: "2026-02-27"

stack:
  runtime: "Node.js 20"
  framework: "React 18 + Vite"
  language: "TypeScript 5"
  orm: null
  database: null
  auth: null
  api_style: "REST + WebSocket"
  styling: "Tailwind CSS 3"
  ui_components: null
  state_management: "Zustand"
  email: null
  file_storage: "local filesystem"
  deployment: "Electron (desktop) | Node.js server (server mode)"
  ci_cd: null
  testing: null
  package_manager: "pnpm"
  monorepo: true

adrs: []

use_cases:
  - id: "UC-001"
    title: "User opens an ADVL workspace directory"
    value: "Establishes contextual project foundation (DCM file access) to enable visual rendering and agent-assisted development architecture."
    status: "planned"
    visual_element_id: "VE-Workspace-Open"
    actor: "ADVL User (Developer/Architect)"
    preconditions:
      - "The selected directory contains an ADVL project structure and a schema/DCM.yaml file"
    postconditions:
      - "Project DCM is parsed into memory/Zustand store"
      - "File system access is granted for relative path resolution"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-002"
    title: "System renders DCM elements as interactive flow canvas"
    value: "Transforms static YAML architecture into a living, visual 2D diagram, enabling humans to comprehend complex data and component flows instantly."
    status: "planned"
    visual_element_id: "VE-Canvas-Flow"
    actor: "System"
    preconditions:
      - "A valid DCM is loaded in memory"
    postconditions:
      - "React Flow canvas displays nodes for Use Cases, Functions, and Database Tables"
      - "Edges correctly map relationships (e.g., Use Case -> Function -> DB Table)"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-003"
    title: "User queries the ADVL Agent via natural language"
    value: "Translates human intent into structured architectural intent, bridging the gap between non-technical vision and rigorous code logic execution."
    status: "planned"
    visual_element_id: "VE-AgentChat-Submit"
    actor: "ADVL User (Developer/Architect)"
    preconditions:
      - "Workspace is open"
      - "Agent backend (LLM connection) is configured and active"
    postconditions:
      - "Agent receives query prompt"
      - "Agent evaluates query against current DCM state and project rules"
      - "Response is streamed or returned in a structured ADVL response format"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-004"
    title: "User inspects detailed element metadata via canvas selection"
    value: "Provides deep traceability (code file, line numbers, assigned rulebooks) directly from the visual layer without requiring context switching."
    status: "planned"
    visual_element_id: "VE-CanvasNode-Inspector"
    actor: "ADVL User (Developer/Architect)"
    preconditions:
      - "Canvas is rendered"
      - "Node is clicked"
    postconditions:
      - "Right-hand inspector panel populates with full 'advl_meta' linked properties associated with the entity selected"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-005"
    title: "User initializes a new ADVL project from a template"
    value: "Allows developers to go from zero to a fully configured, rule-compliant architecture in minutes, eliminating the infinite foundation tax."
    status: "planned"
    visual_element_id: "VE-ProjectInit-Submit"
    actor: "ADVL User (Developer/Architect)"
    preconditions:
      - "A target directory is empty or non-existent"
      - "A baseline stack template is selected"
    postconditions:
      - "Project skeleton is generated"
      - "A clean DCM.yaml is initialized corresponding to the stack choice"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-006"
    title: "User translates a requirement into a structured Use Case via UI"
    value: "Forces the user to think in business value and structured outcomes before any code is written, ensuring USE_CASE_FIRST compliance."
    status: "planned"
    visual_element_id: "VE-UseCaseEditor-Submit"
    actor: "ADVL User (Developer/Architect)"
    preconditions:
      - "Workspace is open"
    postconditions:
      - "A new Use Case is appended to the DCM in 'planned' status"
      - "The canvas updates to reflect the new Use Case node"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-007"
    title: "System implements an approved Use Case via Agent"
    value: "Automates the translation of architecture into working code, automatically updating the DCM and preventing ghost logic."
    status: "planned"
    visual_element_id: null
    actor: "System"
    preconditions:
      - "A 'planned' Use Case exists and is approved for generation"
    postconditions:
      - "Source code is written/modified to implement the Use Case"
      - "DCM Use Case status changes to 'implemented'"
      - "DCM functions array is updated with precise file/line tracking"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-008"
    title: "System validates project compliance against ADVL Rulebooks"
    value: "Prevents technical debt and drift by continuously verifying NO_FAKE, NO_DUPLICATE, and META_INJECTION compliance before any commits."
    status: "planned"
    visual_element_id: "VE-Compliance-Runner"
    actor: "System"
    preconditions:
      - "Workspace is open"
    postconditions:
      - "DCM and codebase are scanned"
      - "Violations (ghost logic, missing meta, empty stubs) are surfaced in the UI"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

  - id: "UC-009"
    title: "User injects advl_meta into a visual component via Canvas/IDE"
    value: "Creates the unbreakable, machine-readable bond between the visual UI surface and the backend logic, guaranteeing accurate traceability."
    status: "planned"
    visual_element_id: "VE-MetaInjector-Bind"
    actor: "ADVL User (Developer/Architect)"
    preconditions:
      - "A valid React/UI component exists"
      - "A target function is registered in the DCM"
    postconditions:
      - "The component source file is updated with the advl_meta JSON block"
    functions: []
    rules_applied: []
    deprecated_date: null
    deprecated_reason: null
    replaced_by: null

deprecated: []

snapshots: []